<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Rtfirewire-devel] Problems with rtfirewire on mac
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/rtfirewire-devel/2006-July/index.html" >
   <LINK REL="made" HREF="mailto:rtfirewire-devel%40lists.berlios.de?Subject=Re%3A%20%5BRtfirewire-devel%5D%20Problems%20with%20rtfirewire%20on%20mac&In-Reply-To=%3C44C4D902.9090608%40web.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000044.html">
   <LINK REL="Next"  HREF="000046.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Rtfirewire-devel] Problems with rtfirewire on mac</H1>
    <B>Jan Kiszka</B> 
    <A HREF="mailto:rtfirewire-devel%40lists.berlios.de?Subject=Re%3A%20%5BRtfirewire-devel%5D%20Problems%20with%20rtfirewire%20on%20mac&In-Reply-To=%3C44C4D902.9090608%40web.de%3E"
       TITLE="[Rtfirewire-devel] Problems with rtfirewire on mac">jan.kiszka at web.de
       </A><BR>
    <I>Mon Jul 24 16:28:18 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000044.html">[Rtfirewire-devel] Problems with rtfirewire on mac
</A></li>
        <LI>Next message: <A HREF="000046.html">[Rtfirewire-devel] Fwd:  Problems with rtfirewire on mac
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45">[ date ]</a>
              <a href="thread.html#45">[ thread ]</a>
              <a href="subject.html#45">[ subject ]</a>
              <a href="author.html#45">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Loes Jansen wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I've tried to install rtfirewire on an ibook. To make this work, I had
</I>&gt;<i> to make some adjustments on the code: e.g. uncomment the ppc options in
</I>&gt;<i> the makefile. Everything is now compiling just fine and hostconfig works
</I>&gt;<i> without any problems, but when I try to rtping, the computer freezes.
</I>&gt;<i> Sometimes that even happens while insmod-ing the module bis1394. I can't
</I>&gt;<i> see anything in dmesg or /var/log/messages, but I'd really like to make
</I>&gt;<i> it work.
</I>&gt;<i> 
</I>&gt;<i> I'm using a 2.6.14.7 kernel, patched with
</I>&gt;<i> adeos-ipipe-2.6.14-ppc-1.3-05.patch and I am now running xenomai-2.2.0.
</I>
There is ipipe-1.3-06 now available as well. Don't know for sure, but it
should fix the broken CONFIG_DEBUG_SPINLOCK support. So, if that switch
happened to be on in your .config...

BTW, how did you manage to build rt-firewire against Xenomai &gt;= 2.1? I
find no support for such thing in its build system. I guess you patched
rt-firewire in this respect as well, don't you? Then you must have
adapted the rtos_primitives.h as well to reflect recent RTDM. Could you
post the patches? I would like to give it at least a compiler run here too.

&gt;<i> 
</I>&gt;<i> Can you tell me where to start fixing this problem?
</I>&gt;<i> 
</I>
Some general hints (though I still wonder how this can work at all):

Start with testing Xenomai itself if this hasn't been done yet: latency
test in combination with xeno_timerbench (latency -t 0..2). Then
continue with switching on Xenomai's and RTDM's debug options. Those may
detect forgotten lock releases in rtfirewire (maybe your hardward
triggers different code paths or orders than on x86).

To catch potential last words of your box (the oops): I guess you do not
have a serial port on your ibook, do you? But netconsole may help you as
well, see related documentation in the kernel source tree.

Jan

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/rtfirewire-devel/attachments/20060724/0726421c/attachment.pgp">https://lists.berlios.de/pipermail/rtfirewire-devel/attachments/20060724/0726421c/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000044.html">[Rtfirewire-devel] Problems with rtfirewire on mac
</A></li>
	<LI>Next message: <A HREF="000046.html">[Rtfirewire-devel] Fwd:  Problems with rtfirewire on mac
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45">[ date ]</a>
              <a href="thread.html#45">[ thread ]</a>
              <a href="subject.html#45">[ subject ]</a>
              <a href="author.html#45">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/rtfirewire-devel">More information about the Rtfirewire-devel
mailing list</a><br>
</body></html>
